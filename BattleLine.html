<html>
<head>
<script type="text/javascript" src="js/BattleLineCore.js"></script>
<script type="text/javascript" src="data/map1.json"></script>
<script type="text/javascript" src="data/map2.json"></script>
</head>
<body>
<canvas id="display" width="600" height="600" ></canvas>
<script>
    var canvas = document.getElementById( 'display' );
    var context = canvas.getContext( '2d' );
    
    BattleLine.initialize( map2, [], [] );
    
    BattleLine.drawMap( canvas, context );
    
    canvas.addEventListener( 'click', function (event) {
        var xOffset = canvas.offsetLeft + (canvas.width - BattleLine.mapData.Dimensions.width) / 2;
        var yOffset = canvas.offsetTop + (canvas.height - BattleLine.mapData.Dimensions.height) / 2;
        
        var nearestPlanet = BattleLine.util.getPlanetAtXY( event.pageX - xOffset, event.pageY - yOffset );
        
        if ( nearestPlanet >= 0 ) {
            BattleLine.processBattleResult( nearestPlanet, 10, 1 );
            BattleLine.drawMap( canvas, context );
        }
    });
</script>
</body>